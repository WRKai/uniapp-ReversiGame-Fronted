if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((i=>t.resolve(e()).then((()=>i))),(i=>t.resolve(e()).then((()=>{throw i}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e,t){"use strict";function i(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function n(e,i){return t.isString(e)?i:e}const o=t=>(i,n=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,i,n)},a=o("onShow"),l=o("onHide"),s=o("onLoad"),c={id:"2852637",name:"uniui图标库",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},r=(e,t)=>{const i=e.__vccOpts||e;for(const[n,o]of t)i[n]=o;return i};const d=r({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:()=>({icons:c.glyphs}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?unescape(`%u${e.unicode}`):""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e}},methods:{_onClick(){this.$emit("click")}}},[["render",function(t,i,n,o,a,l){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle({color:n.color,"font-size":l.iconSize}),class:e.normalizeClass(["uni-icons",["uniui-"+n.type,n.customPrefix,n.customPrefix?n.type:""]]),onClick:i[0]||(i[0]=(...e)=>l._onClick&&l._onClick(...e))},null,6)}],["__scopeId","data-v-7c2f6cb0"]]);function u(e){let t="";for(let i in e){t+=`${i}:${e[i]};`}return t}const m=r({name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change","keyboardheightchange"],model:{prop:"modelValue",event:"update:modelValue"},options:{virtualHost:!0},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!1},cursorSpacing:{type:Number,default:0},passwordIcon:{type:Boolean,default:!0},primaryColor:{type:String,default:"#2979ff"},styles:{type:Object,default:()=>({color:"#333",backgroundColor:"#fff",disableColor:"#F7F6F6",borderColor:"#e5e5e5"})},errorMessage:{type:[String,Boolean],default:""}},data:()=>({focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:"",isEnter:!1}),computed:{isVal(){const e=this.val;return!(!e&&0!==e)},msg(){return this.localMsg||this.errorMessage},inputMaxlength(){return Number(this.maxlength)},boxStyle(){return`color:${this.inputBorder&&this.msg?"#e43d33":this.styles.color};`},inputContentClass(){return function(e){let t="";for(let i in e)e[i]&&(t+=`${i} `);return t}({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled,"is-focused":this.focusShow})},inputContentStyle(){const e=this.focusShow?this.primaryColor:this.styles.borderColor;return u({"border-color":(this.inputBorder&&this.msg?"#dd524d":e)||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:this.styles.backgroundColor})},inputStyle(){return u({"padding-right":"password"===this.type||this.clearable||this.prefixIcon?"":"10px","padding-left":this.prefixIcon?"":"10px"})}},watch:{value(e){this.val=e},modelValue(e){this.val=e},focus(e){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))}},created(){this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(e=>{this.localMsg=e}))},mounted(){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))},methods:{init(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue||""===this.modelValue?this.val=this.modelValue:this.val=null},onClickIcon(e){this.$emit("iconClick",e)},onEyes(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput(e){let t=e.detail.value;this.trim&&("boolean"==typeof this.trim&&this.trim&&(t=this.trimStr(t)),"string"==typeof this.trim&&(t=this.trimStr(t,this.trim))),this.errMsg&&(this.errMsg=""),this.val=t,this.$emit("input",t),this.$emit("update:modelValue",t)},onFocus(){this.$nextTick((()=>{this.focused=!0})),this.$emit("focus",null)},_Focus(e){this.focusShow=!0,this.$emit("focus",e)},onBlur(){this.focused=!1,this.$emit("focus",null)},_Blur(e){if(e.detail.value,this.focusShow=!1,this.$emit("blur",e),!1===this.isEnter&&this.$emit("change",this.val),this.form&&this.formItem){const{validateTrigger:e}=this.form;"blur"===e&&this.formItem.onFieldChange()}},onConfirm(e){this.$emit("confirm",this.val),this.isEnter=!0,this.$emit("change",this.val),this.$nextTick((()=>{this.isEnter=!1}))},onClear(e){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},onkeyboardheightchange(e){this.$emit("keyboardheightchange",e)},trimStr:(e,t="both")=>"both"===t?e.trim():"left"===t?e.trimLeft():"right"===t?e.trimRight():"start"===t?e.trimStart():"end"===t?e.trimEnd():"all"===t?e.replace(/\s+/g,""):e}},[["render",function(t,i,o,a,l,s){const c=n(e.resolveDynamicComponent("uni-icons"),d);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-easyinput",{"uni-easyinput-error":s.msg}]),style:e.normalizeStyle(s.boxStyle)},[e.createElementVNode("view",{class:e.normalizeClass(["uni-easyinput__content",s.inputContentClass]),style:e.normalizeStyle(s.inputContentStyle)},[o.prefixIcon?(e.openBlock(),e.createBlock(c,{key:0,class:"content-clear-icon",type:o.prefixIcon,color:"#c0c4cc",onClick:i[0]||(i[0]=e=>s.onClickIcon("prefix")),size:"22"},null,8,["type"])):e.createCommentVNode("",!0),"textarea"===o.type?(e.openBlock(),e.createElementBlock("textarea",{key:1,class:e.normalizeClass(["uni-easyinput__content-textarea",{"input-padding":o.inputBorder}]),name:o.name,value:l.val,placeholder:o.placeholder,placeholderStyle:o.placeholderStyle,disabled:o.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:s.inputMaxlength,focus:l.focused,autoHeight:o.autoHeight,"cursor-spacing":o.cursorSpacing,onInput:i[1]||(i[1]=(...e)=>s.onInput&&s.onInput(...e)),onBlur:i[2]||(i[2]=(...e)=>s._Blur&&s._Blur(...e)),onFocus:i[3]||(i[3]=(...e)=>s._Focus&&s._Focus(...e)),onConfirm:i[4]||(i[4]=(...e)=>s.onConfirm&&s.onConfirm(...e)),onKeyboardheightchange:i[5]||(i[5]=(...e)=>s.onkeyboardheightchange&&s.onkeyboardheightchange(...e))},null,42,["name","value","placeholder","placeholderStyle","disabled","maxlength","focus","autoHeight","cursor-spacing"])):(e.openBlock(),e.createElementBlock("input",{key:2,type:"password"===o.type?"text":o.type,class:"uni-easyinput__content-input",style:e.normalizeStyle(s.inputStyle),name:o.name,value:l.val,password:!l.showPassword&&"password"===o.type,placeholder:o.placeholder,placeholderStyle:o.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:o.disabled,maxlength:s.inputMaxlength,focus:l.focused,confirmType:o.confirmType,"cursor-spacing":o.cursorSpacing,onFocus:i[6]||(i[6]=(...e)=>s._Focus&&s._Focus(...e)),onBlur:i[7]||(i[7]=(...e)=>s._Blur&&s._Blur(...e)),onInput:i[8]||(i[8]=(...e)=>s.onInput&&s.onInput(...e)),onConfirm:i[9]||(i[9]=(...e)=>s.onConfirm&&s.onConfirm(...e)),onKeyboardheightchange:i[10]||(i[10]=(...e)=>s.onkeyboardheightchange&&s.onkeyboardheightchange(...e))},null,44,["type","name","value","password","placeholder","placeholderStyle","disabled","maxlength","focus","confirmType","cursor-spacing"])),"password"===o.type&&o.passwordIcon?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[s.isVal?(e.openBlock(),e.createBlock(c,{key:0,class:e.normalizeClass(["content-clear-icon",{"is-textarea-icon":"textarea"===o.type}]),type:l.showPassword?"eye-slash-filled":"eye-filled",size:22,color:l.focusShow?o.primaryColor:"#c0c4cc",onClick:s.onEyes},null,8,["class","type","color","onClick"])):e.createCommentVNode("",!0)],64)):o.suffixIcon?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[o.suffixIcon?(e.openBlock(),e.createBlock(c,{key:0,class:"content-clear-icon",type:o.suffixIcon,color:"#c0c4cc",onClick:i[11]||(i[11]=e=>s.onClickIcon("suffix")),size:"22"},null,8,["type"])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:5},[o.clearable&&s.isVal&&!o.disabled&&"textarea"!==o.type?(e.openBlock(),e.createBlock(c,{key:0,class:e.normalizeClass(["content-clear-icon",{"is-textarea-icon":"textarea"===o.type}]),type:"clear",size:o.clearSize,color:s.msg?"#dd524d":l.focusShow?o.primaryColor:"#c0c4cc",onClick:s.onClear},null,8,["class","size","color","onClick"])):e.createCommentVNode("",!0)],64)),e.renderSlot(t.$slots,"right",{},void 0,!0)],6)],6)}],["__scopeId","data-v-f388a24f"]]);const f=r({name:"uniFormsItem",options:{virtualHost:!0},provide(){return{uniFormItem:this}},inject:{form:{from:"uniForm",default:null}},props:{rules:{type:Array,default:()=>null},name:{type:[String,Array],default:""},required:{type:Boolean,default:!1},label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},leftIcon:String,iconColor:{type:String,default:"#606266"}},data:()=>({errMsg:"",userRules:null,localLabelAlign:"left",localLabelWidth:"65px",localLabelPos:"left",border:!1,isFirstBorder:!1}),computed:{msg(){return this.errorMessage||this.errMsg}},watch:{"form.formRules"(e){this.init()},"form.labelWidth"(e){this.localLabelWidth=this._labelWidthUnit(e)},"form.labelPosition"(e){this.localLabelPos=this._labelPosition()},"form.labelAlign"(e){}},created(){this.init(!0),this.name&&this.form&&this.$watch((()=>this.form._getDataValue(this.name,this.form.localData)),((e,t)=>{if(!this.form._isEqual(e,t)){const t=this.itemSetValue(e);this.onFieldChange(t,!1)}}),{immediate:!1})},unmounted(){this.__isUnmounted=!0,this.unInit()},methods:{setRules(e=null){this.userRules=e,this.init(!1)},setValue(){},async onFieldChange(e,t=!0){const{formData:i,localData:n,errShowType:o,validateCheck:a,validateTrigger:l,_isRequiredField:s,_realName:c}=this.form,r=c(this.name);e||(e=this.form.formData[r]);const d=this.itemRules.rules&&this.itemRules.rules.length;if(!this.validator||!d||0===d)return;const u=s(this.itemRules.rules||[]);let m=null;return"bind"===l||t?(m=await this.validator.validateUpdate({[r]:e},i),u||void 0!==e&&""!==e||(m=null),m&&m.errorMessage?("undertext"===o&&(this.errMsg=m?m.errorMessage:""),"toast"===o&&uni.showToast({title:m.errorMessage||"校验错误",icon:"none"}),"modal"===o&&uni.showModal({title:"提示",content:m.errorMessage||"校验错误"})):this.errMsg="",a(m||null)):this.errMsg="",m||null},init(e=!1){const{validator:t,formRules:i,childrens:n,formData:o,localData:a,_realName:l,labelWidth:s,_getDataValue:c,_setDataValue:r}=this.form||{};if(this.localLabelAlign=this._justifyContent(),this.localLabelWidth=this._labelWidthUnit(s),this.localLabelPos=this._labelPosition(),this.form&&e&&n.push(this),!t||!i)return;this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border;const d=l(this.name),u=this.userRules||this.rules;"object"==typeof i&&u&&(i[d]={rules:u},t.updateSchema(i));const m=i[d]||{};this.itemRules=m,this.validator=t,this.itemSetValue(c(this.name,a))},unInit(){if(this.form){const{childrens:e,formData:t,_realName:i}=this.form;e.forEach(((e,n)=>{e===this&&(this.form.childrens.splice(n,1),delete t[i(e.name)])}))}},itemSetValue(e){const t=this.form._realName(this.name),i=this.itemRules.rules||[],n=this.form._getValue(t,e,i);return this.form._setDataValue(t,this.form.formData,n),n},clearValidate(){this.errMsg=""},_isRequired(){return this.required},_justifyContent(){if(this.form){const{labelAlign:e}=this.form;let t=this.labelAlign?this.labelAlign:e;if("left"===t)return"flex-start";if("center"===t)return"center";if("right"===t)return"flex-end"}return"flex-start"},_labelWidthUnit(e){return this.num2px(this.labelWidth?this.labelWidth:e||(this.label?65:"auto"))},_labelPosition(){return this.form&&this.form.labelPosition||"left"},isTrigger:(e,t,i)=>"submit"!==e&&e?"bind":void 0===e?"bind"!==t?t?"submit":""===i?"bind":"submit":"bind":"submit",num2px:e=>"number"==typeof e?`${e}px`:e}},[["render",function(t,i,n,o,a,l){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-forms-item",["is-direction-"+a.localLabelPos,a.border?"uni-forms-item--border":"",a.border&&a.isFirstBorder?"is-first-border":""]])},[e.renderSlot(t.$slots,"label",{},(()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-forms-item__label",{"no-label":!n.label&&!n.required}]),style:e.normalizeStyle({width:a.localLabelWidth,justifyContent:a.localLabelAlign})},[n.required?(e.openBlock(),e.createElementBlock("text",{key:0,class:"is-required"},"*")):e.createCommentVNode("",!0),e.createElementVNode("text",null,e.toDisplayString(n.label),1)],6)]),!0),e.createElementVNode("view",{class:"uni-forms-item__content"},[e.renderSlot(t.$slots,"default",{},void 0,!0),e.createElementVNode("view",{class:e.normalizeClass(["uni-forms-item__error",{"msg--active":l.msg}])},[e.createElementVNode("text",null,e.toDisplayString(l.msg),1)],2)])],2)}],["__scopeId","data-v-3c7f44a2"]]);var h={email:/^\S+?@\S+?\.\S+?$/,idcard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i")};const p={int:"integer",bool:"boolean",double:"number",long:"number",password:"string"};function _(e,t=""){["label"].forEach((t=>{void 0===e[t]&&(e[t]="")}));let i=t;for(let n in e){let t=new RegExp("{"+n+"}");i=i.replace(t,e[n])}return i}const g={integer:e=>g.number(e)&&parseInt(e,10)===e,string:e=>"string"==typeof e,number:e=>!isNaN(e)&&"number"==typeof e,boolean:function(e){return"boolean"==typeof e},float:function(e){return g.number(e)&&!g.integer(e)},array:e=>Array.isArray(e),object:e=>"object"==typeof e&&!g.array(e),date:e=>e instanceof Date,timestamp(e){return!(!this.integer(e)||Math.abs(e).toString().length>16)},file:e=>"string"==typeof e.url,email:e=>"string"==typeof e&&!!e.match(h.email)&&e.length<255,url:e=>"string"==typeof e&&!!e.match(h.url),pattern(e,t){try{return new RegExp(e).test(t)}catch(i){return!1}},method:e=>"function"==typeof e,idcard:e=>"string"==typeof e&&!!e.match(h.idcard),"url-https"(e){return this.url(e)&&e.startsWith("https://")},"url-scheme":e=>e.startsWith("://"),"url-web":e=>!1};const y={required:(e,t,i)=>e.required&&function(e,t){return null==e||"string"==typeof e&&!e||!(!Array.isArray(e)||e.length)||"object"===t&&!Object.keys(e).length}(t,e.format||typeof t)?_(e,e.errorMessage||i.required):null,range(e,t,i){const{range:n,errorMessage:o}=e;let a=new Array(n.length);for(let s=0;s<n.length;s++){const e=n[s];g.object(e)&&void 0!==e.value?a[s]=e.value:a[s]=e}let l=!1;return Array.isArray(t)?l=new Set(t.concat(a)).size===a.length:a.indexOf(t)>-1&&(l=!0),l?null:_(e,o||i.enum)},rangeNumber(e,t,i){if(!g.number(t))return _(e,e.errorMessage||i.pattern.mismatch);let{minimum:n,maximum:o,exclusiveMinimum:a,exclusiveMaximum:l}=e,s=a?t<=n:t<n,c=l?t>=o:t>o;return void 0!==n&&s?_(e,e.errorMessage||i.number[a?"exclusiveMinimum":"minimum"]):void 0!==o&&c?_(e,e.errorMessage||i.number[l?"exclusiveMaximum":"maximum"]):void 0!==n&&void 0!==o&&(s||c)?_(e,e.errorMessage||i.number.range):null},rangeLength(e,t,i){if(!g.string(t)&&!g.array(t))return _(e,e.errorMessage||i.pattern.mismatch);let n=e.minLength,o=e.maxLength,a=t.length;return void 0!==n&&a<n?_(e,e.errorMessage||i.length.minLength):void 0!==o&&a>o?_(e,e.errorMessage||i.length.maxLength):void 0!==n&&void 0!==o&&(a<n||a>o)?_(e,e.errorMessage||i.length.range):null},pattern:(e,t,i)=>g.pattern(e.pattern,t)?null:_(e,e.errorMessage||i.pattern.mismatch),format(e,t,i){var n=Object.keys(g),o=p[e.format]?p[e.format]:e.format||e.arrayType;return n.indexOf(o)>-1&&!g[o](t)?_(e,e.errorMessage||i.typeError):null},arrayTypeFormat(e,t,i){if(!Array.isArray(t))return _(e,e.errorMessage||i.typeError);for(let n=0;n<t.length;n++){const o=t[n];let a=this.format(e,o,i);if(null!==a)return a}return null}};class b extends class{constructor(e){this._message=e}async validateRule(e,t,i,n,o){var a=null;let l=t.rules;if(l.findIndex((e=>e.required))<0){if(null==i)return a;if("string"==typeof i&&!i.length)return a}var s=this._message;if(void 0===l)return s.default;for(var c=0;c<l.length;c++){let r=l[c],d=this._getValidateType(r);if(Object.assign(r,{label:t.label||`["${e}"]`}),y[d]&&null!=(a=y[d](r,i,s)))break;if(r.validateExpr){let e=Date.now();if(!1===r.validateExpr(i,o,e)){a=this._getMessage(r,r.errorMessage||this._message.default);break}}if(r.validateFunction&&null!==(a=await this.validateFunction(r,i,n,o,d)))break}return null!==a&&(a=s.TAG+a),a}async validateFunction(e,t,i,n,o){let a=null;try{let l=null;const s=await e.validateFunction(e,t,n||i,(e=>{l=e}));(l||"string"==typeof s&&s||!1===s)&&(a=this._getMessage(e,l||s,o))}catch(l){a=this._getMessage(e,l.message,o)}return a}_getMessage(e,t,i){return _(e,t||e.errorMessage||this._message[i]||t.default)}_getValidateType(e){var t="";return e.required?t="required":e.format?t="format":e.arrayType?t="arrayTypeFormat":e.range?t="range":void 0!==e.maximum||void 0!==e.minimum?t="rangeNumber":void 0!==e.maxLength||void 0!==e.minLength?t="rangeLength":e.pattern?t="pattern":e.validateFunction&&(t="validateFunction"),t}}{constructor(e,t){super(b.message),this._schema=e,this._options=t||null}updateSchema(e){this._schema=e}async validate(e,t){let i=this._checkFieldInSchema(e);return i||(i=await this.invokeValidate(e,!1,t)),i.length?i[0]:null}async validateAll(e,t){let i=this._checkFieldInSchema(e);return i||(i=await this.invokeValidate(e,!0,t)),i}async validateUpdate(e,t){let i=this._checkFieldInSchema(e);return i||(i=await this.invokeValidateUpdate(e,!1,t)),i.length?i[0]:null}async invokeValidate(e,t,i){let n=[],o=this._schema;for(let a in o){let l=o[a],s=await this.validateRule(a,l,e[a],e,i);if(null!=s&&(n.push({key:a,errorMessage:s}),!t))break}return n}async invokeValidateUpdate(e,t,i){let n=[];for(let o in e){let a=await this.validateRule(o,this._schema[o],e[o],e,i);if(null!=a&&(n.push({key:o,errorMessage:a}),!t))break}return n}_checkFieldInSchema(e){var t=Object.keys(e),i=Object.keys(this._schema);if(new Set(t.concat(i)).size===i.length)return"";var n=t.filter((e=>i.indexOf(e)<0));return[{key:"invalid",errorMessage:_({field:JSON.stringify(n)},b.message.TAG+b.message.defaultInvalid)}]}}b.message=new function(){return{TAG:"",default:"验证错误",defaultInvalid:"提交的字段{field}在数据库中并不存在",validateFunction:"验证无效",required:"{label}必填",enum:"{label}超出范围",timestamp:"{label}格式无效",whitespace:"{label}不能为空",typeError:"{label}类型无效",date:{format:"{label}日期{value}格式无效",parse:"{label}日期无法解析,{value}无效",invalid:"{label}日期{value}无效"},length:{minLength:"{label}长度不能少于{minLength}",maxLength:"{label}长度不能超过{maxLength}",range:"{label}必须介于{minLength}和{maxLength}之间"},number:{minimum:"{label}不能小于{minimum}",maximum:"{label}不能大于{maximum}",exclusiveMinimum:"{label}不能小于等于{minimum}",exclusiveMaximum:"{label}不能大于等于{maximum}",range:"{label}必须介于{minimum}and{maximum}之间"},pattern:{mismatch:"{label}格式不匹配"}}};const v=(e,t,i)=>{const n=i.find((e=>{return e.format&&("int"===(t=e.format)||"double"===t||"number"===t||"timestamp"===t);var t})),o=i.find((e=>e.format&&"boolean"===e.format||"bool"===e.format));return n&&(t=t||0===t?E(Number(t))?Number(t):t:null),o&&(t=!!V(t)&&t),t},w=(e,t)=>A(t,e),k=(e,t={})=>{const i=C(e);if("object"==typeof i&&Array.isArray(i)&&i.length>1){return i.reduce(((e,t)=>e+`#${t}`),"_formdata_")}return i[0]||e},x=e=>{let t=e.replace("_formdata_#","");return t=t.split("#").map((e=>E(e)?Number(e):e)),t},S=(e,t,i)=>("object"!=typeof e||C(t).reduce(((e,t,n,o)=>n===o.length-1?(e[t]=i,null):(t in e||(e[t]=/^[0-9]{1,}$/.test(o[n+1])?[]:{}),e[t])),e),e);function C(e){return Array.isArray(e)?e:e.replace(/\[/g,".").replace(/\]/g,"").split(".")}const A=(e,t,i="undefined")=>{let n=C(t).reduce(((e,t)=>(e||{})[t]),e);return n&&void 0===n?i:n},E=e=>!isNaN(Number(e)),V=e=>"boolean"==typeof e;const N=r({name:"uniForms",emits:["validate","submit"],options:{virtualHost:!0},props:{value:{type:Object,default:()=>null},modelValue:{type:Object,default:()=>null},model:{type:Object,default:()=>null},rules:{type:Object,default:()=>({})},errShowType:{type:String,default:"undertext"},validateTrigger:{type:String,default:"submit"},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:"left"},border:{type:Boolean,default:!1}},provide(){return{uniForm:this}},data:()=>({formData:{},formRules:{}}),computed:{localData(){const e=this.model||this.modelValue||this.value;return e?(t=e,JSON.parse(JSON.stringify(t))):{};var t}},watch:{rules:{handler:function(e,t){this.setRules(e)},deep:!0,immediate:!0}},created(){getApp().$vm.$.appContext.config.globalProperties.binddata||(getApp().$vm.$.appContext.config.globalProperties.binddata=function(e,t,n){if(n)this.$refs[n].setValue(e,t);else{let n;for(let e in this.$refs){const t=this.$refs[e];if(t&&t.$options&&"uniForms"===t.$options.name){n=t;break}}if(!n)return i("error","at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:182","当前 uni-froms 组件缺少 ref 属性");n.setValue(e,t)}}),this.childrens=[],this.inputChildrens=[],this.setRules(this.rules)},methods:{setRules(e){this.formRules=Object.assign({},this.formRules,e),this.validator=new b(e)},setValue(e,t){let i=this.childrens.find((t=>t.name===e));return i?(this.formData[e]=v(0,t,this.formRules[e]&&this.formRules[e].rules||[]),i.onFieldChange(this.formData[e])):null},validate(e,t){return this.checkAll(this.formData,e,t)},validateField(e=[],t){e=[].concat(e);let i={};return this.childrens.forEach((t=>{const n=k(t.name);-1!==e.indexOf(n)&&(i=Object.assign({},i,{[n]:this.formData[n]}))})),this.checkAll(i,[],t)},clearValidate(e=[]){e=[].concat(e),this.childrens.forEach((t=>{if(0===e.length)t.errMsg="";else{const i=k(t.name);-1!==e.indexOf(i)&&(t.errMsg="")}}))},submit(e,t,n){for(let i in this.dataValue){this.childrens.find((e=>e.name===i))&&void 0===this.formData[i]&&(this.formData[i]=this._getValue(i,this.dataValue[i]))}return n||i("warn","at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:289","submit 方法即将废弃，请使用validate方法代替！"),this.checkAll(this.formData,e,t,"submit")},async checkAll(e,t,i,n){if(!this.validator)return;let o,a=[];for(let r in e){const e=this.childrens.find((e=>k(e.name)===r));e&&a.push(e)}i||"function"!=typeof t||(i=t),!i&&"function"!=typeof i&&Promise&&(o=new Promise(((e,t)=>{i=function(i,n){i?t(i):e(n)}})));let l=[],s=JSON.parse(JSON.stringify(e));for(let r in a){const e=a[r];let t=k(e.name);const i=await e.onFieldChange(s[t]);if(i&&(l.push(i),"toast"===this.errShowType||"modal"===this.errShowType))break}Array.isArray(l)&&0===l.length&&(l=null),Array.isArray(t)&&t.forEach((e=>{let t=k(e),i=w(e,this.localData);void 0!==i&&(s[t]=i)})),"submit"===n?this.$emit("submit",{detail:{value:s,errors:l}}):this.$emit("validate",l);let c={};return c=((e={},t)=>{let i=JSON.parse(JSON.stringify(e)),n={};for(let o in i){let e=x(o);S(n,e,i[o])}return n})(s,this.name),i&&"function"==typeof i&&i(l,c),o&&i?o:null},validateCheck(e){this.$emit("validate",e)},_getValue:v,_isRequiredField:e=>{let t=!1;for(let i=0;i<e.length;i++){if(e[i].required){t=!0;break}}return t},_setDataValue:(e,t,i)=>(t[e]=i,i||""),_getDataValue:w,_realName:k,_isRealName:e=>/^_formdata_#*/.test(e),_isEqual:(e,t)=>{if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;var i=toString.call(e);if(i!==toString.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}if("[object Object]"==i){var n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(n.length!=o.length)return!1;for(var a=0;a<n.length;a++){var l=n[a];if(e[l]!==t[l])return!1}return!0}return"[object Array]"==i?e.toString()==t.toString():void 0}}},[["render",function(t,i,n,o,a,l){return e.openBlock(),e.createElementBlock("view",{class:"uni-forms"},[e.createElementVNode("form",null,[e.renderSlot(t.$slots,"default",{},void 0,!0)])])}],["__scopeId","data-v-65e5d681"]]),I=["{","}"];const M=/^(?:\d)+/,T=/^(?:\w)+/;const B="zh-Hans",P="zh-Hant",D="en",O=Object.prototype.hasOwnProperty,R=(e,t)=>O.call(e,t),j=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,i=I){if(!t)return[e];let n=this._caches[e];return n||(n=function(e,[t,i]){const n=[];let o=0,a="";for(;o<e.length;){let l=e[o++];if(l===t){a&&n.push({type:"text",value:a}),a="";let t="";for(l=e[o++];void 0!==l&&l!==i;)t+=l,l=e[o++];const s=l===i,c=M.test(t)?"list":s&&T.test(t)?"named":"unknown";n.push({value:t,type:c})}else a+=l}return a&&n.push({type:"text",value:a}),n}(e,i),this._caches[e]=n),function(e,t){const i=[];let n=0;const o=Array.isArray(t)?"list":(a=t,null!==a&&"object"==typeof a?"named":"unknown");var a;if("unknown"===o)return i;for(;n<e.length;){const a=e[n];switch(a.type){case"text":i.push(a.value);break;case"list":i.push(t[parseInt(a.value,10)]);break;case"named":"named"===o&&i.push(t[a.value])}n++}return i}(n,t)}};function z(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return B;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?B:e.indexOf("-hant")>-1?P:(i=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==i.indexOf(e)))?P:B);var i;let n=[D,"fr","es"];t&&Object.keys(t).length>0&&(n=Object.keys(t));const o=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,n);return o||void 0}class F{constructor({locale:e,fallbackLocale:t,messages:i,watcher:n,formater:o}){this.locale=D,this.fallbackLocale=D,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=o||j,this.messages=i||{},this.setLocale(e||D),n&&this.watchLocale(n)}setLocale(e){const t=this.locale;this.locale=z(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,i=!0){const n=this.messages[e];n?i?Object.assign(n,t):Object.keys(t).forEach((e=>{R(n,e)||(n[e]=t[e])})):this.messages[e]=t}f(e,t,i){return this.formater.interpolate(e,t,i).join("")}t(e,t,i){let n=this.message;return"string"==typeof t?(t=z(t,this.messages))&&(n=this.messages[t]):i=t,R(n,e)?this.formater.interpolate(n[e],i).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const L={en:{"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},"zh-Hans":{"uni-load-more.contentdown":"上拉显示更多","uni-load-more.contentrefresh":"正在加载...","uni-load-more.contentnomore":"没有更多数据了"},"zh-Hant":{"uni-load-more.contentdown":"上拉顯示更多","uni-load-more.contentrefresh":"正在加載...","uni-load-more.contentnomore":"沒有更多數據了"}};let G;setTimeout((()=>{G=uni.getSystemInfoSync().platform}),16);const{t:J}=function(e,t={},i,n){"string"!=typeof e&&([e,t]=[t,e]),"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():D),"string"!=typeof i&&(i="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||D);const o=new F({locale:e,fallbackLocale:i,messages:t,watcher:n});let a=(e,t)=>{if("function"!=typeof getApp)a=function(e,t){return o.t(e,t)};else{let e=!1;a=function(t,i){const n=getApp().$vm;return n&&(n.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(n,o))),o.t(t,i)}}return a(e,t)};return{i18n:o,f:(e,t,i)=>o.f(e,t,i),t:(e,t)=>a(e,t),add:(e,t,i=!0)=>o.add(e,t,i),watch:e=>o.watchLocale(e),getLocale:()=>o.getLocale(),setLocale:e=>o.setLocale(e)}}(L);const $=r({name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default:()=>({contentdown:"",contentrefresh:"",contentnomore:""})},showText:{type:Boolean,default:!0}},data:()=>({webviewHide:!1,platform:G,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZV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"}),computed:{iconSnowWidth(){return 2*(Math.floor(this.iconSize/24)||1)},contentdownText(){return this.contentText.contentdown||J("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||J("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||J("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1].$getAppWebview();t.addEventListener("hide",(()=>{this.webviewHide=!0})),t.addEventListener("show",(()=>{this.webviewHide=!1}))},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}},[["render",function(t,i,n,o,a,l){return e.openBlock(),e.createElementBlock("view",{class:"uni-load-more",onClick:i[0]||(i[0]=(...e)=>l.onClick&&l.onClick(...e))},[!a.webviewHide&&("circle"===n.iconType||"auto"===n.iconType&&"android"===a.platform)&&"loading"===n.status&&n.showIcon?(e.openBlock(),e.createElementBlock("view",{key:0,style:e.normalizeStyle({width:n.iconSize+"px",height:n.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--android-MP"},[e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:n.color,borderTopWidth:n.iconSize/12})},null,4),e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:n.color,borderTopWidth:n.iconSize/12})},null,4),e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:n.color,borderTopWidth:n.iconSize/12})},null,4)],4)):!a.webviewHide&&"loading"===n.status&&n.showIcon?(e.openBlock(),e.createElementBlock("view",{key:1,style:e.normalizeStyle({width:n.iconSize+"px",height:n.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--ios-H5"},[e.createElementVNode("image",{src:a.imgBase64,mode:"widthFix"},null,8,["src"])],4)):e.createCommentVNode("",!0),n.showText?(e.openBlock(),e.createElementBlock("text",{key:2,class:"uni-load-more__text",style:e.normalizeStyle({color:n.color})},e.toDisplayString("more"===n.status?l.contentdownText:"loading"===n.status?l.contentrefreshText:l.contentnomoreText),5)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-a7e112cc"]]);class H{constructor(e,t){this.options=e,this.animation=uni.createAnimation({...e}),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let i=this.currentStepAnimates[this.next],n={};if(n=i||{styles:{},config:{}},W.includes(e)){n.styles.transform||(n.styles.transform="");let i="";"rotate"===e&&(i="deg"),n.styles.transform+=`${e}(${t+i}) `}else n.styles[e]=`${t}`;this.currentStepAnimates[this.next]=n}_animateRun(e={},t={}){let i=this.$.$refs.ani.ref;if(i)return new Promise(((n,o)=>{nvueAnimation.transition(i,{styles:e,...t},(e=>{n()}))}))}_nvueNextAnimate(e,t=0,i){let n=e[t];if(n){let{styles:o,config:a}=n;this._animateRun(o,a).then((()=>{t+=1,this._nvueNextAnimate(e,t,i)}))}else this.currentStepAnimates={},"function"==typeof i&&i(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const W=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function U(e,t){if(t)return clearTimeout(t.timer),new H(e,t)}W.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{H.prototype[e]=function(...t){return this.animation[e](...t),this}}));const Y=r({name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:()=>"fade"},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e={...this.styles,"transition-duration":this.duration/1e3+"s"},t="";for(let i in e){t+=this.toLine(i)+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=U(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let t in e)try{"object"==typeof e[t]?this.animation[t](...e[t]):this.animation[t](e[t])}catch(n){i("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:143",`方法 ${t} 不存在`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=t,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=U(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:""},i=(e,i)=>{"fade"===i?t.opacity=this.animationType(e)[i]:t.transform+=this.animationType(e)[i]+" "};return"string"==typeof this.modeClass?i(e,this.modeClass):this.modeClass.forEach((t=>{i(e,t)})),t},tranfromInit(e){let t=(e,t)=>{let i=null;"fade"===t?i=e?0:1:(i=e?"-100%":"0","zoom-in"===t&&(i=e?.8:1),"zoom-out"===t&&(i=e?1.2:1),"slide-right"===t&&(i=e?"100%":"0"),"slide-bottom"===t&&(i=e?"100%":"0")),this.animation[this.animationMode()[t]](i)};return"string"==typeof this.modeClass?t(e,this.modeClass):this.modeClass.forEach((i=>{t(e,i)})),this.animation},animationType:e=>({fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,i,n,o,a,l){return a.isShow||n.onceRender?e.withDirectives((e.openBlock(),e.createElementBlock("view",{key:0,ref:"ani",animation:a.animationData,class:e.normalizeClass(n.customClass),style:e.normalizeStyle(l.transformStyles),onClick:i[0]||(i[0]=(...e)=>l.onClick&&l.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])),[[e.vShow,a.isShow]]):e.createCommentVNode("",!0)}]]);const Z=r({name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0},isMaskClick:{handler:function(e){this.mkclick=e},immediate:!0},showPopup(e){}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted(){(()=>{const{windowWidth:e,windowHeight:t,windowTop:i,safeArea:n,screenHeight:o,safeAreaInsets:a}=uni.getSystemInfoSync();this.popupWidth=e,this.popupHeight=t+(i||0),n&&this.safeArea?this.safeAreaInsets=a.bottom:this.safeAreaInsets=0})()},unmounted(){this.setH5Visible()},created(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible(){},closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){e.stopPropagation(),this.clearPropagation=!0},open(e){if(this.showPopup)return;e&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(e)||(e=this.type),this.config[e]?(this[this.config[e]](),this.$emit("change",{show:!0,type:e})):i("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:279","缺少类型：",e)},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.messageChild&&"message"===this.type&&this.messageChild.timerClose()})))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg},e||(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},e||(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)}}},[["render",function(t,i,o,a,l,s){const c=n(e.resolveDynamicComponent("uni-transition"),Y);return l.showPopup?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-popup",[l.popupstyle,s.isDesktop?"fixforpc-z-index":""]])},[e.createElementVNode("view",{onTouchstart:i[1]||(i[1]=(...e)=>s.touchstart&&s.touchstart(...e))},[l.maskShow?(e.openBlock(),e.createBlock(c,{key:"1",name:"mask","mode-class":"fade",styles:l.maskClass,duration:l.duration,show:l.showTrans,onClick:s.onTap},null,8,["styles","duration","show","onClick"])):e.createCommentVNode("",!0),e.createVNode(c,{key:"2","mode-class":l.ani,name:"content",styles:l.transClass,duration:l.duration,show:l.showTrans,onClick:s.onTap},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-popup__wrapper",[l.popupstyle]]),style:e.normalizeStyle({backgroundColor:s.bg}),onClick:i[0]||(i[0]=(...e)=>s.clear&&s.clear(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)])),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],2)):e.createCommentVNode("",!0)}],["__scopeId","data-v-0aefdf8c"]]),Q={invoke:e=>(-1===e.url.indexOf("http")&&(e.url="http://8.137.77.183:8899"+e.url),e.timeout=9999,e.header={...e.header},e)};uni.addInterceptor("request",Q);const X=e=>new Promise(((t,i)=>{uni.request({...e,success(e){e.statusCode>=200&&e.statusCode<300?t(e.data):401===e.statusCode?(uni.showToast({title:"登录过期，请重新登录",icon:"error"}),i(e)):(uni.showToast({title:e.data.msg||"未知错误",icon:"none"}),i(e))},fail(e){uni.showToast({title:"网络错误",icon:"none"}),i(e)}})}));
/*!
    * pinia v2.0.33
    * (c) 2023 Eduardo San Martin Morote
    * @license MIT
    */
let q;const K=e=>q=e,ee=Symbol();function te(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var ie,ne;(ne=ie||(ie={})).direct="direct",ne.patchObject="patch object",ne.patchFunction="patch function";const oe="undefined"!=typeof window;function ae(){const t=e.effectScope(!0),i=t.run((()=>e.ref({})));let n=[],o=[];const a=e.markRaw({install(e){K(a),a._a=e,e.provide(ee,a),e.config.globalProperties.$pinia=a,o.forEach((e=>n.push(e))),o=[]},use(e){return this._a?n.push(e):o.push(e),this},_p:n,_a:null,_e:t,_s:new Map,state:i});return a}const le=()=>{};function se(t,i,n,o=le){t.push(i);const a=()=>{const e=t.indexOf(i);e>-1&&(t.splice(e,1),o())};return!n&&e.getCurrentScope()&&e.onScopeDispose(a),a}function ce(e,...t){e.slice().forEach((e=>{e(...t)}))}function re(t,i){t instanceof Map&&i instanceof Map&&i.forEach(((e,i)=>t.set(i,e))),t instanceof Set&&i instanceof Set&&i.forEach(t.add,t);for(const n in i){if(!i.hasOwnProperty(n))continue;const o=i[n],a=t[n];te(a)&&te(o)&&t.hasOwnProperty(n)&&!e.isRef(o)&&!e.isReactive(o)?t[n]=re(a,o):t[n]=o}return t}const de=Symbol();const{assign:ue}=Object;function me(t,i,n={},o,a,l){let s;const c=ue({actions:{}},n),r={deep:!0};let d,u,m,f=e.markRaw([]),h=e.markRaw([]);const p=o.state.value[t];let _;function g(i){let n;d=u=!1,"function"==typeof i?(i(o.state.value[t]),n={type:ie.patchFunction,storeId:t,events:m}):(re(o.state.value[t],i),n={type:ie.patchObject,payload:i,storeId:t,events:m});const a=_=Symbol();e.nextTick().then((()=>{_===a&&(d=!0)})),u=!0,ce(f,n,o.state.value[t])}l||p||(o.state.value[t]={}),e.ref({});const y=l?function(){const{state:e}=n,t=e?e():{};this.$patch((e=>{ue(e,t)}))}:le;function b(e,i){return function(){K(o);const n=Array.from(arguments),a=[],l=[];function s(e){a.push(e)}function c(e){l.push(e)}let r;ce(h,{args:n,name:e,store:w,after:s,onError:c});try{r=i.apply(this&&this.$id===t?this:w,n)}catch(d){throw ce(l,d),d}return r instanceof Promise?r.then((e=>(ce(a,e),e))).catch((e=>(ce(l,e),Promise.reject(e)))):(ce(a,r),r)}}const v={_p:o,$id:t,$onAction:se.bind(null,h),$patch:g,$reset:y,$subscribe(i,n={}){const a=se(f,i,n.detached,(()=>l())),l=s.run((()=>e.watch((()=>o.state.value[t]),(e=>{("sync"===n.flush?u:d)&&i({storeId:t,type:ie.direct,events:m},e)}),ue({},r,n))));return a},$dispose:function(){s.stop(),f=[],h=[],o._s.delete(t)}},w=e.reactive(v);o._s.set(t,w);const k=o._e.run((()=>(s=e.effectScope(),s.run((()=>i())))));for(const C in k){const i=k[C];if(e.isRef(i)&&(S=i,!e.isRef(S)||!S.effect)||e.isReactive(i))l||(!p||te(x=i)&&x.hasOwnProperty(de)||(e.isRef(i)?i.value=p[C]:re(i,p[C])),o.state.value[t][C]=i);else if("function"==typeof i){const e=b(C,i);k[C]=e,c.actions[C]=i}}var x,S;return ue(w,k),ue(e.toRaw(w),k),Object.defineProperty(w,"$state",{get:()=>o.state.value[t],set:e=>{g((t=>{ue(t,e)}))}}),o._p.forEach((e=>{ue(w,s.run((()=>e({store:w,app:o._a,pinia:o,options:c}))))})),p&&l&&n.hydrate&&n.hydrate(w.$state,p),d=!0,u=!0,w}function fe(t,i,n){let o,a;const l="function"==typeof i;function s(t,n){const s=e.getCurrentInstance();(t=t||s&&e.inject(ee,null))&&K(t),(t=q)._s.has(o)||(l?me(o,i,a,t):function(t,i,n,o){const{state:a,actions:l,getters:s}=i,c=n.state.value[t];let r;r=me(t,(function(){c||(n.state.value[t]=a?a():{});const i=e.toRefs(n.state.value[t]);return ue(i,l,Object.keys(s||{}).reduce(((i,o)=>(i[o]=e.markRaw(e.computed((()=>{K(n);const e=n._s.get(t);return s[o].call(e,e)}))),i)),{}))}),i,n,0,!0)}(o,a,t));return t._s.get(o)}return"string"==typeof t?(o=t,a=l?n:i):(a=t,o=t.id),s.$id=o,s}let he="Store";function pe(e,t){return Array.isArray(t)?t.reduce(((t,i)=>(t[i]=function(){return e(this.$pinia)[i]},t)),{}):Object.keys(t).reduce(((i,n)=>(i[n]=function(){const i=e(this.$pinia),o=t[n];return"function"==typeof o?o.call(this,i):i[o]},i)),{})}const _e=pe;const ge=Object.freeze(Object.defineProperty({__proto__:null,get MutationType(){return ie},PiniaVuePlugin:function(e){e.mixin({beforeCreate(){const e=this.$options;if(e.pinia){const t=e.pinia;if(!this._provided){const e={};Object.defineProperty(this,"_provided",{get:()=>e,set:t=>Object.assign(e,t)})}this._provided[ee]=t,this.$pinia||(this.$pinia=t),t._a=this,oe&&K(t)}else!this.$pinia&&e.parent&&e.parent.$pinia&&(this.$pinia=e.parent.$pinia)},destroyed(){delete this._pStores}})},acceptHMRUpdate:function(e,t){return()=>{}},createPinia:ae,defineStore:fe,getActivePinia:()=>e.getCurrentInstance()&&e.inject(ee)||q,mapActions:function(e,t){return Array.isArray(t)?t.reduce(((t,i)=>(t[i]=function(...t){return e(this.$pinia)[i](...t)},t)),{}):Object.keys(t).reduce(((i,n)=>(i[n]=function(...i){return e(this.$pinia)[t[n]](...i)},i)),{})},mapGetters:_e,mapState:pe,mapStores:function(...e){return e.reduce(((e,t)=>(e[t.$id+he]=function(){return t(this.$pinia)},e)),{})},mapWritableState:function(e,t){return Array.isArray(t)?t.reduce(((t,i)=>(t[i]={get(){return e(this.$pinia)[i]},set(t){return e(this.$pinia)[i]=t}},t)),{}):Object.keys(t).reduce(((i,n)=>(i[n]={get(){return e(this.$pinia)[t[n]]},set(i){return e(this.$pinia)[t[n]]=i}},i)),{})},setActivePinia:K,setMapStoreSuffix:function(e){he=e},skipHydrate:function(e){return Object.defineProperty(e,de,{})},storeToRefs:function(t){{t=e.toRaw(t);const i={};for(const n in t){const o=t[n];(e.isRef(o)||e.isReactive(o))&&(i[n]=e.toRef(t,n))}return i}}},Symbol.toStringTag,{value:"Module"})),ye=fe("room",(()=>{const t=e.ref(""),i=e.ref(0);return{room_number:t,update_room_number:e=>t.value=e,initNumber:i,updateinitNumber:e=>i.value=e}})),be=e.defineComponent({__name:"index",setup(t){const{safeAreaInsets:o}=uni.getSystemInfoSync();l((()=>{p.value&&y()}));const a=e.ref(),s=()=>{a.value.open()},c=e.ref(),r=e.ref({room_number:""}),d={room_number:{rules:[{required:!0,errorMessage:"请输入房间号"},{pattern:/^\d{4}$/,errorMessage:"请输入4位房间号"}]}},u=e.ref(!1),h=e=>{u.value=!1,uni.showToast({icon:"success",title:"房间已找到!",duration:888,mask:!0});const t=ye();t.update_room_number(r.value.room_number),t.updateinitNumber(e||0),setTimeout((()=>{uni.redirectTo({url:"/pages/MultiplayerGame/MultiplayerGame"})}),886)},p=e.ref(null),_=async()=>{try{await c.value.validate(),u.value=!0;const e=await X({url:"/api/search",method:"POST",data:r.value});if("房间号被占用"===e.msg)return uni.showToast({icon:"error",title:e.msg,duration:888,mask:!0}),void setTimeout((()=>u.value=!1),888);e.data.isWaiting?p.value=setInterval((async()=>{const e=await X({url:"/api/confirm-pair",method:"POST",data:r.value});i("log","at pages/index/index.vue:74",e),e.data.isWaiting||(clearInterval(p.value),p.value=null,h())}),1080):e.data.isWaiting||h(Math.floor(10*Math.random())+1)}catch(e){i("log","at pages/index/index.vue:84",e),setTimeout((()=>u.value=!1),233)}},g=()=>{if(!p.value)return a.value.close();uni.showModal({title:"提示",content:"确定取消房间搜索吗?",confirmColor:"#C00000",cancelText:"还是算了",success:async e=>{e.confirm&&y()}})},y=async()=>{i("log","at pages/index/index.vue:109",await X({url:"/api/cancel-search",method:"DELETE",data:r.value})),clearInterval(p.value),p.value=null,uni.showToast({icon:"success",title:"取消成功",duration:888,mask:!0}),u.value=!1},b=()=>{uni.showModal({title:"怎么可能3天写这么多",content:"敬(Wa)请(Keng)期(Bu)待(Tian)!",showCancel:!1})};return(t,i)=>{var l;const h=n(e.resolveDynamicComponent("uni-easyinput"),m),y=n(e.resolveDynamicComponent("uni-forms-item"),f),v=n(e.resolveDynamicComponent("uni-forms"),N),w=n(e.resolveDynamicComponent("uni-load-more"),$),k=n(e.resolveDynamicComponent("uni-popup"),Z);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{style:e.normalizeStyle({height:(null==(l=e.unref(o))?void 0:l.top)+"px"})},null,4),e.createElementVNode("view",{class:"big-title"},[e.createElementVNode("text",null,"黑"),e.createElementVNode("text",{style:{color:"aliceblue"}},"白"),e.createTextVNode("棋 ")]),e.createElementVNode("view",{class:"version-display"}," Android DEMO v0.0.2 with Node.js Server v0.0.1 "),e.createElementVNode("view",{class:"version-display"}," By Rongkai Wang "),e.createElementVNode("view",{class:"version-display"}," Special thanks to Mayor & Moxin for their algorithms "),e.createElementVNode("view",{class:"play-btns"},[e.createElementVNode("button",{class:"btn coming-soon",onClick:b},"双人黑白棋-自定义"),e.createElementVNode("button",{class:"btn coming-soon",onClick:b},"单人黑白棋-PvAI"),e.createElementVNode("button",{class:"btn coming-soon",onClick:b},"双人黑白棋-单机版"),e.createElementVNode("button",{class:"btn",onClick:s},"双人黑白棋-快速赛")]),e.createVNode(k,{ref_key:"fastGamingPopupRef",ref:a,"background-color":"#fff",type:"center","is-mask-click":!1},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"fastGamingPopup-content"},[e.createElementVNode("view",{class:"tips-title"}," 和朋友输入相同四位数字房间号, "),e.createElementVNode("view",{class:"tips-title"}," 就可以进入同一对局! "),e.createVNode(v,{ref_key:"formRef",ref:c,rules:d,model:r.value},{default:e.withCtx((()=>[e.createVNode(y,{name:"room_number"},{default:e.withCtx((()=>[e.createVNode(h,{class:"room-number-inp",inputBorder:!0,placeholder:"请输入房间号",type:"number",maxlength:"4",modelValue:r.value.room_number,"onUpdate:modelValue":i[0]||(i[0]=e=>r.value.room_number=e),disabled:u.value},null,8,["modelValue","disabled"])])),_:1})])),_:1},8,["model"]),e.withDirectives(e.createVNode(w,{color:"#6c5ce7",status:"loading","content-text":{contentdown:"BUG",contentrefresh:"等待玩家中......",contentnomore:"BUG"}},null,8,["content-text"]),[[e.vShow,!!p.value]]),e.createElementVNode("view",{class:"btns"},[e.createElementVNode("button",{class:"btn",onClick:_,disabled:u.value},"确定",8,["disabled"]),e.createElementVNode("button",{class:"btn cancelBtn",onClick:g},"取消")])])])),_:1},512)],64)}}});const ve=r({name:"uniPopupMessage",mixins:[{data:()=>({}),created(){this.popup=this.getParent()},methods:{getParent(e="uniPopup"){let t=this.$parent,i=t.$options.name;for(;i!==e;){if(t=t.$parent,!t)return!1;i=t.$options.name}return t}}}],props:{type:{type:String,default:"success"},message:{type:String,default:""},duration:{type:Number,default:3e3},maskShow:{type:Boolean,default:!1}},data:()=>({}),created(){this.popup.maskShow=this.maskShow,this.popup.messageChild=this},methods:{timerClose(){0!==this.duration&&(clearTimeout(this.timer),this.timer=setTimeout((()=>{this.popup.close()}),this.duration))}}},[["render",function(t,i,n,o,a,l){return e.openBlock(),e.createElementBlock("view",{class:"uni-popup-message"},[e.createElementVNode("view",{class:e.normalizeClass(["uni-popup-message__box fixforpc-width","uni-popup__"+n.type])},[e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("text",{class:e.normalizeClass(["uni-popup-message-text","uni-popup__"+n.type+"-text"])},e.toDisplayString(n.message),3)]),!0)],2)])}],["__scopeId","data-v-d81cfb56"]]),we=e.defineComponent({__name:"MultiplayerGame",setup(t){const o=ye(),c=e.ref(),r=e.ref(!1),d=e.computed((()=>r.value?2:1)),u=e.computed((()=>r.value?1:2)),m=e.ref(!0);var f=!1,h=null,p=null,_=null,g=null,y=!1;l((()=>{g=setTimeout((async()=>{await X({url:"/api/post-spStatus",method:"POST",data:{room_number:o.room_number}}),await X({url:"/api/post-end-game",method:"POST",data:{room_number:o.room_number}}),P(),uni.redirectTo({url:"/pages/index/index"})}),6e4)})),a((()=>{g&&(clearTimeout(g),g=null,x("离开游戏超过1分钟, 将强制退出对局!","warn"))})),s((async()=>{const e=o.initNumber;if(e)await X({url:"/api/post-init",method:"POST",data:{initNumber:e,room_number:o.room_number}}),e%2==0?(x("你是先手","success"),r.value=!0):x("你是后手","success");else{uni.showLoading({title:"加载中...",mask:!0});let e=null;await new Promise((t=>{let i=setInterval((async()=>{e=await X({url:"/api/get-init-new",method:"POST",data:{room_number:o.room_number}}),e.data.initNumber&&(clearInterval(i),uni.hideLoading(),t("OK"))}),1080)})),e.data.initNumber%2==1?(x("你是先手","success"),r.value=!0):x("你是后手","success")}for(b.value[4][4]=1,b.value[4][5]=2,b.value[5][4]=2,b.value[5][5]=1,h=setInterval((async()=>{const e=await X({url:"/api/get-spStatus",method:"POST",data:{room_number:o.room_number}});i("log","at pages/MultiplayerGame/MultiplayerGame.vue:108",e),e.data.spStatus&&(x("对手似乎离开了游戏, 3秒后自动退出......","warn"),uni.showToast({duration:3e3,mask:!0,title:"3秒后退出...",icon:"error"}),P(),await X({url:"/api/post-end-game",method:"POST",data:{room_number:o.room_number}}),setTimeout((()=>{uni.redirectTo({url:"/pages/index/index"})}),2999))}),25e3);;){if(r.value===m.value){if(!C(d.value)){if(x("您轮空了! 又到对手了......","warn"),await X({url:"/api/post-latest-gaming",method:"POST",data:{room_number:o.room_number,latestMsg:{row:-1,col:-1,turn:d.value}}}),y)break;y=!0,m.value=!m.value;continue}y=!1,V.value="现在由您执棋",f=!0,await new Promise((e=>{p=setInterval((()=>{f||(clearInterval(p),p=null,e("OK"))}),1080)})),m.value=!m.value,V.value="等待对方......"}else{v.value=new Array(10).fill(0).map((()=>new Array(10).fill(0))),C(u.value),V.value="等待对方中......";let e=null;await new Promise((t=>{_=setInterval((async()=>{e=await X({url:"/api/get-latest-gaming",method:"POST",data:{room_number:o.room_number}}),e.data.latestMsg&&e.data.latestMsg.turn===u.value&&(clearInterval(_),_=null,t("OK"))}),1080)}));let t=e.data.latestMsg.row,i=e.data.latestMsg.col;if(-1===t&&-1===i){x("对手轮空! 现在是我的回合!","success"),y=!0,m.value=!m.value;continue}y=!1,b.value[t][i]=u.value,N(t,i,u.value),V.value="对方已置棋!",m.value=!m.value}T()}x("游戏结束!统计中..."),await X({url:"/api/post-end-game",method:"POST",data:{room_number:o.room_number}}),T();let t="还能平局?";I.value>M.value?t="白棋获胜!":I.value<M.value&&(t="黑棋获胜!"),uni.showModal({title:t,content:`白:${I.value}, 黑:${M.value}`,showCancel:!1,confirmText:"回到主页",success:e=>{e.confirm&&(P(),uni.redirectTo({url:"/pages/index/index"}))}})}));const b=e.ref(new Array(10).fill(0).map((()=>new Array(10).fill(0)))),v=e.ref(new Array(10).fill(0).map((()=>new Array(10).fill(0)))),w=e.ref("info"),k=e.ref("NIHAOMA煞笔真没二"),x=(e="你女子",t="info")=>{k.value=e,w.value=t,c.value.open()},S=new Array(10).fill(0).map((()=>new Array(10).fill(0).map((()=>new Array(8).fill(0))))),C=e=>{let t=!1;for(let i=1;i<=8;i++)for(let n=1;n<=8;n++)v.value[i][n]=E(i,n,e),v.value[i][n]&&(t=!0);return t},A=[[0,1],[1,0],[1,1],[-1,-1],[-1,0],[0,-1],[1,-1],[-1,1]],E=(e,t,i)=>{if(b.value[e][t])return!1;let n=!1;for(let o=0;o<8;o++){S[e][t][o]=0;let a=e+A[o][0],l=t+A[o][1];if(a<1||l<1||a>8||l>8)continue;let s=b.value[a][l];if(s&&s-1!=i-1){let a=e,l=t,s=!1;for(;a+=A[o][0],l+=A[o][1],!(a<1||l<1||a>8||l>8);){let e=b.value[a][l];if(!e)break;if(e===i){n=!0,s=!0;break}}s&&(S[e][t][o]=1)}}return!!n},V=e.ref(""),N=(e,t,i)=>{for(let n=0;n<8;n++){let o=e,a=t;if(S[e][t][n])for(;o+=A[n][0],a+=A[n][1],!(o<1||a<1||o>8||a>8);){let e=b.value[o][a];if(!e||e===i)break;b.value[o][a]=1+(b.value[o][a]-1^1)}}},I=e.ref(2),M=e.ref(2),T=()=>{let e=0,t=0;for(let i=1;i<=8;i++)for(let n=1;n<=8;n++)1===b.value[i][n]?e++:2===b.value[i][n]&&t++;I.value=e,M.value=t},B=()=>{uni.showModal({title:"提示",content:"确定退出对局?",confirmColor:"#C00000",success:async e=>{e.confirm&&(await X({url:"/api/post-spStatus",method:"POST",data:{room_number:o.room_number}}),await X({url:"/api/post-end-game",method:"POST",data:{room_number:o.room_number}}),P(),uni.redirectTo({url:"/pages/index/index"}))}})},P=()=>{p&&clearInterval(p),_&&clearInterval(_),h&&clearInterval(h),g&&clearTimeout(g)};return(t,i)=>{const a=n(e.resolveDynamicComponent("uni-popup-message"),ve),l=n(e.resolveDynamicComponent("uni-popup"),Z);return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(l,{ref_key:"topPopupTips",ref:c,type:"message"},{default:e.withCtx((()=>[e.createVNode(a,{type:w.value,message:k.value,duration:2e3},null,8,["type","message"])])),_:1},512),e.createElementVNode("view",{class:"tips-info-box"},[e.createElementVNode("view",{class:"display-your-chess"},[e.createElementVNode("view",null," 您执: "),e.createElementVNode("view",{class:"chess-block"},[e.createElementVNode("view",{class:"chess",style:e.normalizeStyle({transform:`rotateY(${r.value?180:0}deg)`})},[e.createElementVNode("view",{class:"front"}),e.createElementVNode("view",{class:"back"})],4)])]),e.createElementVNode("view",{class:"display-turn"},[e.createElementVNode("button",{class:"btn",disabled:r.value!==m.value},e.toDisplayString(V.value),9,["disabled"])]),e.createElementVNode("view",{class:"exit-btn"},[e.createElementVNode("button",{class:"btn",onClick:B},"×")]),e.createElementVNode("view",{class:"remain-chess-cnt"},[e.createElementVNode("view",{class:"black-remain"},[e.createElementVNode("view",{class:"chess-block"},[e.createElementVNode("view",{class:"chess",style:{transform:"rotateY(180deg)"}},[e.createElementVNode("view",{class:"front"}),e.createElementVNode("view",{class:"back"})])]),e.createElementVNode("view",null,"x"+e.toDisplayString(M.value),1)]),e.createElementVNode("view",{class:"white-remain"},[e.createElementVNode("view",{class:"chess-block"},[e.createElementVNode("view",{class:"chess"},[e.createElementVNode("view",{class:"front"}),e.createElementVNode("view",{class:"back"})])]),e.createElementVNode("view",null,"x"+e.toDisplayString(I.value),1)])])]),e.createElementVNode("view",{style:{height:"800rpx","margin-bottom":"250rpx"}}),e.createElementVNode("view",{class:"container"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(64,((t,i)=>e.createElementVNode("view",{class:"chess-block","data-row":Math.floor(i/8)+1,"data-col":i%8+1,onClick:e=>(async(e,t)=>f?v.value[e][t]?(b.value[e][t]=d.value,N(e,t,d.value),f=!1,void(await X({url:"/api/post-latest-gaming",method:"POST",data:{room_number:o.room_number,latestMsg:{row:e,col:t,turn:d.value}}}))):x("仅能在指定位置置棋(以黄点标记)","error"):x("当前不是你的回合","error"))(Math.floor(i/8)+1,i%8+1),"data-color":0},[e.withDirectives(e.createElementVNode("view",{class:"able-to-chess"},null,512),[[e.vShow,v.value[Math.floor(i/8)+1][i%8+1]&&r.value===m.value]]),e.withDirectives(e.createElementVNode("view",{class:"chess",style:e.normalizeStyle({transform:`rotateY(${2==b.value[Math.floor(i/8)+1][i%8+1]?180:0}deg)`})},[e.createElementVNode("view",{class:"front"}),e.createElementVNode("view",{class:"back"})],4),[[e.vShow,b.value[Math.floor(i/8)+1][i%8+1]]])],8,["data-row","data-col","onClick"]))),64))])],64)}}});__definePage("pages/index/index",be),__definePage("pages/MultiplayerGame/MultiplayerGame",we);const ke={onLaunch:function(){i("warn","at App.vue:4","当前组件仅支持 uni_modules 目录结构 ，请升级 HBuilderX 到 3.1.0 版本以上！"),i("log","at App.vue:5","App Launch")},onShow:function(){i("log","at App.vue:8","App Show")},onHide:function(){i("log","at App.vue:11","App Hide")}};const{app:xe,Vuex:Se,Pinia:Ce}=function(){const t=e.createVueApp(ke);return t.use(ae()),{app:t,Pinia:ge}}();uni.Vuex=Se,uni.Pinia=Ce,xe.provide("__globalStyles",__uniConfig.styles),xe._component.mpType="app",xe._component.render=()=>{},xe.mount("#app")}(Vue,uni.VueShared);
